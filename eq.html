<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>three.js Graphic EQ</title>
    <script type="text/javascript" src="docs/libraries/three.js"></script>
    <script src="docs/libraries/TrackballControls.js"></script>
    <script src="docs/libraries/CSS3DRenderer.js"></script>
</head>

<body>

    <div id="container"></div>

<script>
/*** base Graphic EQ code by srchea  */

var camera, renderer;
var controls;

var scene = new THREE.Scene();
var cubes = new Array();


    function sticks() {
        var i = 0;
        for(var x = 0; x < 10; x += 1) {
            var j = 0;
            cubes[i] = new Array();
            for(var y = 0; y < 10; y += 1) {
                var geometry = new THREE.CubeGeometry(1, 1, 1);

                var material = new THREE.MeshPhongMaterial({
                color: randomFairColor(),
                ambient: 0xbecece,
                specular: 0xffffff,
                shininess: 20,
                reflectivity: 8
                });

                cubes[i][j] = new THREE.Mesh(geometry, material);
                cubes[i][j].position = new THREE.Vector3(x, y, 0);

                scene.add(cubes[i][j]);
                j++;
            }
            i++;
        }
    }

    function load() { 
        var objLoader = new THREE.OBJLoader();
        objLoader.setMaterials(null);
        objLoader.setPath('docs/libraries/');
        objLoader.load('frequency.obj', function (object) {
        scene.add(object);
        object.position.y -= 60;
    });
    
    
    init();
    animate();

    function init() {
        var container = document.getElementById( 'container' );
        camera = new THREE.PerspectiveCamera( 50, window.innerWidth / window
            innerHeight, 1, 5000 );
        camera.position.set( 500, 350, 750 );
                scene = new THREE.Scene();
                renderer = new THREE.CSS3DRenderer();
                renderer.setSize( window.innerWidth, window.innerHeight );
                container.appendChild( renderer.domElement );
                sticks();
                controls = new THREE.TrackballControls( camera );
                controls.rotateSpeed = 4;
                window.addEventListener( 'resize', onWindowResize, false );
            }

    function onWindowResize() {
        camera.aspect = window.innerWidth / window.innerHeight;
        camera.updateProjectionMatrix();
        renderer.setSize( window.innerWidth, window.innerHeight );
    }
            
    function animate() {
        requestAnimationFrame( animate );
        controls.update();
        renderer.render( scene, camera );
    }

</script>
</body>
</html>
